########################################
通过LiveCD来安装ArchLinux
########################################
:category: Memo
:tags: Linux,Memo
:date: 2007-02-12 01:20



借鉴自 `ArchLinux Wiki <http://wiki.archlinux.org/index.php?title=Install_Arch_from_within_another_distro>`_ 

基本要点如下：

- 用LiveCD启动后，规划好硬盘分区并格式化，激活swap分区，并把准备安装Arch的分区挂接到LiveCD环境中，比如 /mount/arch。

- 下载 current/os/i686/setup/packages.txt，抽取出base包

.. code-block:: bash

     grep base packages.txt | awk -F '/|-[0-9]' '{print $2}' >base.txt

- 下载pacman包，取出不依赖任何动态库的pacman.static，然后再在LiveCD环境里配置好pacman.conf。

- 安装base包

.. code-block:: bash

     pacman.static -S `cat ~/base.txt` -r /mnt/arch

- 配置/mnt/arch/etc/rc.conf和/mnt/arch/etc/fstab。

- 不要忘记安装kernel。

- 安装grub

.. code-block:: bash

     cp /mnt/arch/sbin/grub* /sbin
     cp -r /mnt/arch/usr/lib/grub /usr/lib
     grub-install --root-directory=/mnt/arch --recheck /dev/sda

- 配置/mnt/arch/boot/grub/menu.lst

