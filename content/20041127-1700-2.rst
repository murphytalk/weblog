################
cvs Tips
################
:category: Computer
:tags: Linux
:date: 2004-11-27 17:00



**初始化Repository**

为了防止意外我不以root身份访问cvs:建了一个cvs组，又建一个是cvs组成员的普通用户。然后创建目录/DATA/CVSROOT，所有组设成cvs。然后以cvs组成员的身份登录，运行如下命令初始化Repository::

 cvs -d /DATA/CVSROOT init

成功后，在/DATA/CVSROOT下有一CVSROOT目录被创建，里面放的是cvs的控制用文件。

**csv的password服务器设置**

首先确认/etc/service中有这么一行内容::

 cvspserver      2401/tcp

可以用inetd侦听cvspserver端口，启动csv。/etc/inetd.conf::

 cvspserver stream tcp nowait root /usr/bin/cvs cvs --allow-root=/DATA/CVSROOT pserver

pserver的用户认证基于$CVSROOT/CVSROOT/passwd，该文件格式类似/etc/passwd，但只有用户名和密码两列内容。加密采用系统的cyrpt，故和系统的passwd/shadown一致，可以拷过来删除不需要的列后使用。

cvs将以通过pserver登录的用户的身份运行，故cvs的用户首先必须是系统用户，另外参考Repository的初始化，该用户最好还是cvs组成员。

设置好后客户端的CVSROOT设置为::

 :pserver;username=myusername;password=mypassword;hostname=cvs_server_address:/DATA/CVSROOT

即可访问远程cvs。

NULL