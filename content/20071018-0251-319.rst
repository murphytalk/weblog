##############################
改造LinkStation成功
##############################
:category: Computer
:tags: DigiLife
:date: 2007-10-18 02:51



從Yahoo Auctions上收的，型號是HD-HG160，全部費用加在一起11,000日元不到。在LinkStation的諸多型號中挑中它是因為它用的PowerPC的CPU，雖然也許比新型號用的ARM9慢，但是針對它的各種改機手段的支持是最完善的。

周日付的款周二到貨。晚上回來就開刷free link。等吃完飯回來提示已經刷完，但是盒子上的紅燈卻在不停閃爍，不由得心頭一驚，腦袋里跳出來的兩個字是 **變磚** ！！重新開機後紅燈沒有了，心頭稍安，但是沒有在網絡鄰居里看到盒子的影子，以為默認盒子把網段改到192.168.1去了，把PC也切換過去看看還是找不到。最后讓Buffalo的那個firmware updater在LAN上找，updater果然強勁，居然找到了在另一個網段（192.168.0，我的路由器的網段，看來free link默認是用dhcp取地址的）上的盒子。趕緊用telnet登錄，一切正常。free link的firmware里沒有帶samba，所以在網絡鄰居里找不到。。。


接下來是折騰debian，一度把libc6庫搞亂，裝什么都提示libc6依賴的包tzdata沒有安裝；但是用apt-get試圖去裝tzdata又說因為libc6不正常不給安裝，還提示我用 apt-get -f install 去"修復"系統。嘗試結果是要刪掉所有的包，趕緊放棄。

在 `debian package <http://package.debian.org>`_ 上撥拉了下，居然發現有tzdata這么個包，下載下來后用 *dpkg -i* 安裝，嘿嘿，問題解決了^_^

接下來是整理分區。LinkStation默認的分法是裝系統的hda1占大概300多兆；接下來是512兆的swap分區；然后是近159G的數據，被掛載到/mnt；最后還空著70多兆沒用。hda1實在太小，尤其是debian還把下載下來的包和cache放在/var下面，升級了下系統到etch下了些包hda1就只剩下50來兆了，回來還看見此時LinkStation的Disk Full燈閃。

我先干掉了那個數據分區，然后裝了GNU parted把swap縮小一半；最后再把剩余的空間全部分給hda3分區。本來還想改hda1的大小，結果因為被掛載了無效，要改得話只好拆出硬盤來掛到PC上。多一事不如少一事，把自己的home目錄和apt的 /var/cache 和 /var/lib 給移到hda3上去了。