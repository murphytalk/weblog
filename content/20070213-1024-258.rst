##########
精简KDE
##########
:category: Computer
:tags: Linux
:date: 2007-02-13 10:24



kde把所有的应用按照所属类型分作kdemultimedia、kdegraphics等package，虽然对package维护者而言非常方便，但是会被迫装上并不需要的应用软件这点让人很不爽。

诸多的Linux发行版中Gentoo的定制能力自然是最强的，对kde的包管理可以做到应用程序级别。另外据说debian也可以做到。不过我对这两个发行版都没有兴趣。即使Arch官方的包不支持KDE的诸应用程序的分离。

因为Arch还提供了自动编译包的机制PKGBUILD，就象我以前说过的一样：Arch是slackware的简洁加Gentoo的灵活^_^

修改标准的kde的各PKGBUILD的要点为：

- 起一个和Arch的标准kde包有区别的名字。比如：kdegraphics-murphy

- 需要声明和Arch的对应包冲突:

 conflicts=(kdegraphics)

- configure部分保持原样，但是编译时只进入需要的应用程序的目录make。可以这么做:

.. code-block:: bash

     mypkgs="kcoloredit kghostview kolourpaint kpdf kruler ksnapshot ksvg kuickshow kviewshell kfile-plugins"
     for mypkg in $mypkgs;do
        cd $mypkg
        make || return 1
        make DESTDIR=$startdir/pkg install
        cd ..
     done
