##################################################
bash: 用heredoc把多行字符串赋值给变量
##################################################
:category: Computer
:tags: Linux
:date: 2008-11-12 02:04



我有一个bash脚本每天自动下载报告，下载完毕后会发一封通知邮件汇报我们的三十多个帐号的统计数据。
开始的版本用从1开始的顺序号来标识不同帐号，但是没有人能全记住各帐号的序号，所以总要对照着帐号列表看，很不方便。觉得直接在报告里用帐号的名字。

最方便而且易维护的办法就是用heredoc把帐号名一行一个地直接写在脚本里赋给一个变量，然后再用一个for循环分别把名字放到一个数组的不同位置，
帐号序号即为数组的index。

可以这么用heredoc把多行字符串赋值给变量:

.. code-block :: bash

  ACCOUNT_NAMES=$(cat<<EOF
  AccountName1
  AccountName2
  EOF
  )

注意而后取ACCOUNT_NAMES变量值的时候用:

.. code-block :: bash

  $ACCOUNT_NAMES

取到的是用空格分割而用:

.. code-block :: bash

  "$ACCOUNT_NAMES"

取到的则是保留了回车的。

 


