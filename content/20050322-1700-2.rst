####################################################
gnus的nnfolder backend的文件格式
####################################################
:category: Computer
:tags: Emacs
:date: 2005-03-22 17:00



active文件和用来保存邮件的文件。

昨天同步邮件时出了点问题，gcom的已发邮件archive的索引和邮件正文对应不上。于是简单研究了下相关文件格式，恢复了邮件。要点如下：

1 首先是nnfolder所对应的目录下的active文件。其格式是该folder内每个文件(group)对应一行，其中的两个数字分别是该组中邮件的最低编号（从1开始）和最高编号。

2 把要修正的组的.gov和.mrk文件删除。

3 打开保存该组全部邮件内容的文件，邮件按照发送（或者接受）的先后顺序排列，每个邮件都有一个**X-Gnus-Article-Number**，这个就是该邮件在组里的ID了，是从1开始顺次增加的。我的情况是同一个文件里有两个邮件的X-Gnus-Article-Number一样了。另外还有一个**Xref**，其中的数字值和X-Gnus-Article-Number的值相同。