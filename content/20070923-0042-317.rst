########################################################################
html tag中的 lang 设定和 Firefox 的字体选择的关系
########################################################################
:category: Computer
:tags: Linux
:date: 2007-09-23 00:42



我的小网志的字体设定在Linux下会匹配到sans-serif，这是一个字体pattern（fontconfig的术语用得对不？），在~/.fonts.conf 我把它往很多字体映射，第一个支持中文的是微软雅黑。

我对微软雅黑没有开点阵支持（也不太清楚有没有），所以当页面字体设置为10pt而内容又为繁体字时，文字的“黑豆化”^_^很严重。

参照一个台湾网站的字体设置倒腾了下发现，在不更改fontconfig设定的情况下，如果在生成的页面中，往html tag添加如下属性的话::

 lang="zh-TW" dir="ltr" xml:lang="zh-TW"

Firefox就会选择sans-serif的设置中排在雅黑底下的一种带点阵的字体。fontconfig的文档中提到过选择字体时优先级最高的是lang属性（比字体的排列顺序还高），所以估计应该是Firefox在选择字体时还用了html tag中的 lang 信息的缘故了。

